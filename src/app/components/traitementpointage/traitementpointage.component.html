<div class="content-header">
  <div class="container-fluid">
      <div class="row mb-2">
          <div class="col-sm-6">
              <!-- <h1 class="m-0">Dashboard</h1> -->
          </div><!-- /.col -->
          <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                  <li class="breadcrumb-item"><a href="#">Home</a></li>
                  <li class="breadcrumb-item active">Traitement de pointage</li>
              </ol>
          </div><!-- /.col -->
      </div><!-- /.row -->
  </div><!-- /.container-fluid -->
</div>
<div class="card">
  <form [formGroup]="pointageForm">
  <!-- /.card-header -->
  <div class="card-body">
      <div class="row">
          <div class="col-sm-12 col-md-6">
              <div class="dt-buttons btn-group flex-wrap">
                  <button class="btn btn-secondary buttons-excel buttons-html5" tabindex="0" aria-controls="example1"
                      type="button" (click)="exportexcel()">
                      <span>Excel</span>
                  </button>
                  <!-- <button class="btn btn-secondary buttons-pdf buttons-html5" tabindex="0" aria-controls="example1"
                      type="button">
                      <span>PDF</span>
                  </button> -->
              </div>
          </div>


      </div>

      <div class="row">
          <div class="col-sm-1 col-md-2">
              <div class="dataTables_length" id="dataTable_length">
                  <label> Mois de pointage
                      <select name="dataTable_length" aria-controls="dataTable" formControlName="mois" name="mois"
                      class="custom-select custom-select-sm form-control form-control-sm">
                      <option *ngFor="let p of listpointage;let index=index" [value]="p.mois">{{p.mois}}
                      </option>
                  </select>
                  </label>
              </div>
          </div>



          <div class="col-sm-1 col-md-2">
              <div class="dataTables_length" id="dataTable_length">
                  <label>Liste &nbsp; &nbsp; Prestataire
                      <select name="dataTable_length" aria-controls="dataTable"  (change)="getallpointagefiltrer();getTotal()"
                          class="custom-select custom-select-sm form-control form-control-sm" formControlName="prestataire" name="prestataire">
                          <option *ngFor="let p of listprestataire;let index=index" [value]="p.id">{{p.siege_social}}
                          </option>
                      </select>
                  </label>
              </div>
          </div>
          <!-- <div class="col-sm-1 col-md-2">
              <div class="dataTables_length" id="dataTable_length">
                  <label>Année de pointage
                      <select name="dataTable_length" aria-controls="dataTable"
                          class="custom-select custom-select-sm form-control form-control-sm">
                          <option *ngFor="let p of listpointage;let index=index" value="10">{{p.annee}}</option>
                      </select>
                  </label>
              </div>
          </div> -->
          <!-- <div class="col-sm-1 col-md-2">
              <div class="dataTables_length" id="dataTable_length">
                  <label>Mois de pointage
                      <select name="dataTable_length" aria-controls="dataTable"
                          class="custom-select custom-select-sm form-control form-control-sm">
                          <option *ngFor="let p of listpointage;let index=index" value="10">{{p.mois}}</option>
                      </select>
                  </label>
              </div>
          </div> -->

      </div>
      <div id="example1_wrapper" class="dataTables_wrapper dt-bootstrap4">

          <div class="row">
              <div class="col-sm-12">
                  <table id="excel-table" class="table table-bordered table-striped dataTable dtr-inline" role="grid"
                      aria-describedby="example1_info">
                      <thead>
                          <tr role="row">
                              <th class="sorting sorting_asc" tabindex="0" aria-controls="example1" rowspan="1"
                                  colspan="1" aria-sort="ascending"
                                  aria-label="Rendering engine: activate to sort column descending">Etablissement</th>
                              <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1"
                                  aria-label="Browser: activate to sort column ascending">Unité organisationnelle</th>
                              <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1"
                                  aria-label="Platform(s): activate to sort column ascending">Total Heure</th>
                              <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1"
                                  aria-label="Engine version: activate to sort column ascending">Total cout</th>
                              <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1"
                                  aria-label="CSS grade: activate to sort column ascending">Mois de paiement</th>
                              <!-- <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1"
                                  aria-label="CSS grade: activate to sort column ascending">Mois de pointage</th> -->
                              <th class="sorting" tabindex="0" aria-controls="example1" rowspan="1" colspan="1"
                                aria-label="CSS grade: activate to sort column ascending">Année de pointage</th>

                          </tr>
                      </thead>
                      <tbody>

                          <tr class="odd" *ngFor="let l of listpointage|paginate: { itemsPerPage: 10, currentPage: p } ;let index=index">
                              <td class="sorting_1 dtr-control" >{{l.demande.user.etab.nom}}</td>
                              <td>{{l.demande.user.unite.nom}}</td>
                              <td>  {{getTotal()}}
                          </td>
                              <td>{{totalcout}}
                           <!-- <input type="text" class="form-control" formControlName="TotalCout" name="TotalCout"    aria-describedby="basic-addon1">  -->

                              </td>
                              <!-- <td *ngFor="let p of listpointage;let index=index"><button type="submit" (click)="updatecout2(p.id)"></button></td> -->
                              <!-- <td ng-init="items.total.amount = items.total.amount + item.amount">{{item.amount}}</td> -->
                              <td>
                                  <select class="form-control select2bs4 select2-hidden-accessible"   formControlName="moispaiement" name="moispaiement" style="width: 100%;" data-select2-id="17" tabindex="-1" aria-hidden="true">
                                      <option value="Janvier" >Janvier</option>
                                      <option value="Février">Février</option>
                                      <option value="Mars">Mars</option>
                                      <option value="Avril">Avril</option>
                                      <option value="Mai">Mai</option>
                                      <option value="Juin">Juin</option>
                                      <option value="Juillet">Juillet</option>
                                      <option value="Aout">Aout</option>
                                      <option value="Septembre">Septembre</option>
                                      <option value="Octobre">Octobre</option>
                                      <option value="Novembre">Novembre</option>
                                      <option value="Décembre">Décembre</option>
                                  </select>

                              </td>
                              <!-- <td>
                                  <select name="dataTable_length" aria-controls="dataTable" formControlName="mois" name="mois"
                                      class="custom-select custom-select-sm form-control form-control-sm">
                                      <option *ngFor="let p of listpointage;let index=index" [value]="p.mois">{{p.mois}}
                                      </option>
                                  </select>
                              </td> -->
                              <td>
                              <select name="dataTable_length" aria-controls="dataTable" class="custom-select custom-select-sm form-control form-control-sm">
                                  <option *ngFor="let p of listpointage;let index=index" value="10">{{p.annee}}
                                  </option>
                              </select>
                              </td>
                              <!-- <td>
                                  <button  type="button" class="btn btn-danger" >Cloturer</button> -->
                                  <!-- <button  *ngFor="let p of listpointage;let index=index" type="button" class="btn btn-danger"  (click)="updateetat(p.id)">Cloturer</button></td> -->
                          </tr>
                      </tbody>
                      <tfoot>

                      </tfoot>
                  </table>
              </div>
          </div>
          <div class="text-right">

          </div>
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
  </div>
  </form>
  <!-- /.card-body -->
</div>
